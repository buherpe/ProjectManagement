@page "/{page}"
@using ProjectManagement.Pages.CurrencyConverterChatSettings;
@using ProjectManagement.Pages.Domains
@using ProjectManagement.Pages.Currencies;
@using ProjectManagement.Pages.Headaches;
@using ProjectManagement.Pages.ProjectStatuses
@using ProjectManagement.Pages.Projects
@using ProjectManagement.Pages.Settings;
@using ProjectManagement.Pages.Tasks
@using ProjectManagement.Pages.Users

@inject MyContext _context;

@*@if (_view != null)
{
    <DataGridComponent View="@_view" />
}*@

@switch (Page)
{
    case "projects":
        <DataGridDbContexted View="@(new ProjectAllView(_context))" TEntity="Project" SetPageTitle="true" />
        break;
    case "tasks":
        <DataGridDbContexted View="@(new TaskAllView(_context))" SetPageTitle="true"
                   TEntity="ProjectManagement.Pages.Tasks.Task" />
        break;
    case "projectStatuses":
        <DataGridDbContexted View="@(new ProjectStatusAllView(_context))" TEntity="ProjectStatus" SetPageTitle="true" />
        break;
    case "users":
        <DataGridDbContexted View="@(new UserAllView(_context))" TEntity="User" SetPageTitle="true" />
        break;
    case "domains":
        <DataGridDbContexted View="@(new DomainAllView(_context))" TEntity="Domain" SetPageTitle="true" />
        break;
    case "currencies":
        <DataGridDbContexted View="@(new CurrencyAllView(_context))" TEntity="Currency" SetPageTitle="true" />
        break;
    case "currencyConverterChatSettings":
        <DataGridDbContexted View="@(new CurrencyConverterChatSettingAllView(_context))"
                   TEntity="CurrencyConverterChatSetting" SetPageTitle="true" />
        break;
    case "headaches":
        <DataGridDbContexted View="@(new HeadacheAllView(_context))" TEntity="Headache" SetPageTitle="true" />
        break;
    case "settings":
        <DataGridDbContexted View="@(new SettingAllView(_context))" TEntity="Setting" SetPageTitle="true" />
        break;
    default:
        break;
}

@code {
    [Parameter]
    public string Page { get; set; }

    //private IView _view;

    //protected override async Task OnParametersSetAsync()
    //{
    //    //_view = Views.FirstOrDefault(x => x.GetEntityNames() == Page);

    //}
}
